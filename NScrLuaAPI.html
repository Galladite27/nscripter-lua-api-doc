<?xml version="1.0" encoding="Shift_JIS"?><html>
<!-- Mirrored from senzogawa.s90.xrea.com/reference/NScrLuaAPI.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 22 Sep 2022 10:37:06 GMT -->
<head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS" /><title>NScrLua API Reference (Unofficially) Ver.0.10</title><link rel="stylesheet" type="text/css" href="NScrLuaAPI.css" /></head><body><div id="HEADER"><a name="top" id="top"></a><h5>命令の背景色について</h5><table id="BGCOLOR_EXPLANATION_TABLE"><tr><td width="75" bgcolor="#FFCCCC">特殊命令</td><td>分類されていない命令</td></tr><tr><td width="75" bgcolor="#FFFFCC">高水準命令</td><td>NScripterの文法に近い命令</td></tr><tr><td width="75" bgcolor="#CCFFFF">コールバック命令</td><td>デフォルト動作を横取りする命令</td></tr><tr><td width="75" bgcolor="#CCFFCC">低水準命令</td><td>Lua関数に近い命令</td></tr></table><br /></div><div id="QUICKTABLE"><div id="LIST"><a id="category_base" /><h5>基本機能</h5><div class="Word NONE"><span class="WordLiteral"><a title="Ver.2.94 特殊&#xA;&#xA;" href="#NL_dofile">NL_dofile</a></span><span class="Function">Luaスクリプトファイルを読み込んで実行する</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSCOM_">NSCOM_</a></span><span class="Function">NScripterからLua関数を呼び出す</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.95 高水準&#xA;&#xA;" href="#NSCOM_main">NSCOM_main</a></span><span class="Function">system.luaを起動用ファイルにする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSEnd">NSEnd</a></span><span class="Function">NScripterの動作を終了する</span></div><a id="category_argument" /><h5>引数操作</h5><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSCheckComma">NSCheckComma</a></span><span class="Function">次の記号がコンマかどうかを調べる</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopComma">NSPopComma</a></span><span class="Function">引数列のコンマをひとつ読み飛ばす</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopID">NSPopID</a></span><span class="Function">NScripterの識別子形式の文字列の引数をひとつ読み込む</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopInt">NSPopInt</a></span><span class="Function">NScripterの数値の引数をひとつ読み込む</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopIntRef">NSPopIntRef</a></span><span class="Function">NScripterの数値変数引数の番号をひとつ読み込む</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopLabel">NSPopLabel</a></span><span class="Function">NScripterのラベル名をひとつ読み込む</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopStr">NSPopStr</a></span><span class="Function">NScripterの文字列の引数をひとつ読み込む</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSPopStrRef">NSPopStrRef</a></span><span class="Function">NScripterの文字列変数引数の番号をひとつ読み込む</span></div><a id="category_variable" /><h5>変数操作</h5><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSGetIntValue">NSGetIntValue</a></span><span class="Function">NScripterの数値変数から値を取得する</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSGetStrValue">NSGetStrValue</a></span><span class="Function">NScripterの文字列変数から値を取得する</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSSetIntValue">NSSetIntValue</a></span><span class="Function">NScripterの数値変数に値を設定する</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSSetStrValue">NSSetStrValue</a></span><span class="Function">NScripterの文字列変数に値を設定する</span></div><a id="category_execute" /><h5>NScripter実行</h5><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSDoEvents">NSDoEvents</a></span><span class="Function">Windowsのメッセージを処理させる</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSExec">NSExec</a></span><span class="Function">文字列で指定されたNScripterの命令を実行する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSExecAnimation">NSExecAnimation</a></span><span class="Function">NScripterのアニメーション処理を実行する</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSGosub">NSGosub</a></span><span class="Function">文字列で指定したラベルにgosubジャンプする</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSGoto">NSGoto</a></span><span class="Function">文字列で指定したラベルにgotoジャンプする</span></div><div class="Word HIGH"><span class="WordLiteral"><a title="Ver.2.94 高水準&#xA;&#xA;" href="#NSReturn">NSReturn</a></span><span class="Function">シナリオスクリプトのサブルーチンからreturnする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSavePoint">NSSavePoint</a></span><span class="Function">セーブポイントを更新する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSleep">NSSleep</a></span><span class="Function">指定した時間ほかのスレッドに動作を明け渡す</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSystemCall">NSSystemCall</a></span><span class="Function">指定したNScripterの機能を呼び出す</span></div><a id="category_callback" /><h5>コールバック</h5><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_animation">NSCALL_animation</a></span><span class="Function">アニメーション割り込みするコールバック</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_close">NSCALL_close</a></span><span class="Function">ウィンドウの「閉じる」をクリックしたときの動作を指定する</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_end">NSCALL_end</a></span><span class="Function">プログラムが終了する直前の動作を指定する</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_load">NSCALL_load</a></span><span class="Function">ロードされた直後の動作を指定する</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_reset">NSCALL_reset</a></span><span class="Function">実行節開始時・リセット時の直後の動作を指定する</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_save">NSCALL_save</a></span><span class="Function">セーブされる直前の動作を指定する</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_savepoint">NSCALL_savepoint</a></span><span class="Function">セーブポイントに到達したときの動作を指定する</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_tag">NSCALL_tag</a></span><span class="Function">タグテキストを取得するコールバック</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_text">NSCALL_text</a></span><span class="Function">表示文（変換後）を取得するコールバック</span></div><div class="Word CB"><span class="WordLiteral"><a title="Ver.2.94 コールバック&#xA;&#xA;" href="#NSCALL_text0">NSCALL_text0</a></span><span class="Function">表示文（変換前）を取得するコールバック</span></div><a id="category_systeminfo" /><h5>システム情報</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSGetFileInfo">NSGetFileInfo</a></span><span class="Function">指定したファイルの情報を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSGetSkip">NSGetSkip</a></span><span class="Function">スキップ状態を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSGetWindowSize">NSGetWindowSize</a></span><span class="Function">NScripterのウィンドウの表示領域の大きさを取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSTimer">NSTimer</a></span><span class="Function">1msに1増え続けるタイマーを取得する</span></div><a id="category_dialog" /><h5>ダイアログ</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOkBox">NSOkBox</a></span><span class="Function">ダイアログボックスを表示する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSYesNoBox">NSYesNoBox</a></span><span class="Function">はい／いいえをたずねるダイアログボックスを表示する</span></div><a id="category_animation" /><h5>アニメーション</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSLuaAnimationInterval">NSLuaAnimationInterval</a></span><span class="Function">アニメーション割り込みの発生間隔を指定する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSLuaAnimationMode">NSLuaAnimationMode</a></span><span class="Function">アニメーション割り込みを開始/停止する</span></div><a id="category_input" /><h5>キーボード・マウス入力</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSClick">NSClick</a></span><span class="Function">左クリックを待つ</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSGetClick">NSGetClick</a></span><span class="Function">最後に入力されたマウスクリックを取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSGetKey">NSGetKey</a></span><span class="Function">キーが今押されているかどうかを取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSGetMouse">NSGetMouse</a></span><span class="Function">マウスの位置を取得する</span></div><a id="category_draw" /><h5>画面描画</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSInvalidate">NSInvalidate</a></span><span class="Function">無効領域を追加する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSUpdate">NSUpdate</a></span><span class="Function">無効領域を再描画する</span></div><a id="category_sprite" /><h5>スプライト</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpCell">NSSpCell</a></span><span class="Function">スプライトのセルを設定する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpClear">NSSpClear</a></span><span class="Function">スプライトを消去する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpGetInfo">NSSpGetInfo</a></span><span class="Function">スプライトの情報を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpGetPos">NSSpGetPos</a></span><span class="Function">スプライトの位置を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpLoad">NSSpLoad</a></span><span class="Function">普通のスプライト（lsp系）をロードする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpMove">NSSpMove</a></span><span class="Function">スプライトを移動する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpVisible">NSSpVisible</a></span><span class="Function">スプライトの表示を切り替える</span></div><a id="category_sprite_ex" /><h5>拡張スプライト</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSp2Clear">NSSp2Clear</a></span><span class="Function">拡張スプライトを消去する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSp2GetInfo">NSSp2GetInfo</a></span><span class="Function">拡張スプライトの情報を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSp2GetPos">NSSp2GetPos</a></span><span class="Function">拡張スプライトの位置を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSp2Load">NSSp2Load</a></span><span class="Function">拡張スプライト（lsp2系）をロードする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSp2Move">NSSp2Move</a></span><span class="Function">拡張スプライトを移動する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSp2Visible">NSSp2Visible</a></span><span class="Function">拡張スプライトの表示を切り替える</span></div><a id="category_ogg" /><h5>OGGファイル</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggClose">NSOggClose</a></span><span class="Function">指定したチャンネルの演奏を終了する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggFade">NSOggFade</a></span><span class="Function">指定したチャンネルをフェード操作する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggIsPlaying">NSOggIsPlaying</a></span><span class="Function">指定したチャンネルの演奏状態を取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggLoad">NSOggLoad</a></span><span class="Function">OGGファイルをロードする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggPlay">NSOggPlay</a></span><span class="Function">ロードしたOGGファイルを再生する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggPlay2">NSOggPlay2</a></span><span class="Function">ロードしたOGGファイルをループ開始点指定で再生する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSOggVolume">NSOggVolume</a></span><span class="Function">指定したチャンネルの音量を変更する</span></div><a id="category_spline" /><h5>スプライン補完</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSDefSpline">NSDefSpline</a></span><span class="Function">スプライン補間に必要な計算をして、指定したデータ番号に登録する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSLinear">NSLinear</a></span><span class="Function">点x0,y0と点x1,y1を通るような関数fの、y=f(x)の値を求める</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.94 低水準&#xA;&#xA;" href="#NSSpline">NSSpline</a></span><span class="Function">スプライン補間の結果を求める</span></div><a id="category_directdraw" /><h5>直接描画</h5><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDBlt">NSDBlt</a></span><span class="Function">テクスチャをそのまま画面にコピーする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDCall">NSDCall</a></span><span class="Function">外部DLLを使ってテクスチャの中身をバイト単位で設定する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDClear">NSDClear</a></span><span class="Function">画面を真っ黒でクリアする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDCopyToBg">NSDCopyToBg</a></span><span class="Function">今現在の画面をNScripter上の「背景画面」としてコピーする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDDelete">NSDDelete</a></span><span class="Function">テクスチャを削除する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDDLL">NSDDLL</a></span><span class="Function">NSD系命令のテクスチャ作成時に呼び出すDLL関数を設定する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDFill">NSDFill</a></span><span class="Function">画面の指定した領域を指定した色で塗りつぶす</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDGetSize">NSDGetSize</a></span><span class="Function">テクスチャのサイズを取得する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDLoad">NSDLoad</a></span><span class="Function">PNGファイルをテクスチャとしてロードする</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDOffMode">NSDOffMode</a></span><span class="Function">NSD系命令の書きこみ先をオフスクリーンバッファに変更する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDPresent">NSDPresent</a></span><span class="Function">NSD系命令で描画した画面を実際に更新する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDPresentRect">NSDPresentRect</a></span><span class="Function">NSD系命令で描画した指定矩形領域を実際に更新する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDSetSprite">NSDSetSprite</a></span><span class="Function">NSD系命令用のテクスチャを、NScripterのスプライトに変換する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDSp">NSDSp</a></span><span class="Function">テクスチャをα値を考慮して重ね合わせで表示する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDSp2">NSDSp2</a></span><span class="Function">テクスチャを回転拡大縮小などの変形処理を加えて画面に転送する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDSp2Add">NSDSp2Add</a></span><span class="Function">テクスチャを回転拡大縮小などの変形処理を加えて画面に転送する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDSpAdd">NSDSpAdd</a></span><span class="Function">テクスチャをα値を考慮して、加算合成で表示する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDTransition">NSDTransition</a></span><span class="Function">オフスクリーンに描き込まれた画像を、実際に画面に反映する</span></div><div class="Word LOW"><span class="WordLiteral"><a title="Ver.2.95 低水準&#xA;&#xA;" href="#NSDTransitionF">NSDTransitionF</a></span><span class="Function">オフスクリーンに描き込まれた画像を、実際に画面に反映する</span></div></div><div id="SIDEBAR"><a href="#NL_dofile">NL_dofile</a><br /><a href="#NSCALL_animation">NSCALL_animation</a><br /><a href="#NSCALL_close">NSCALL_close</a><br /><a href="#NSCALL_end">NSCALL_end</a><br /><a href="#NSCALL_load">NSCALL_load</a><br /><a href="#NSCALL_reset">NSCALL_reset</a><br /><a href="#NSCALL_save">NSCALL_save</a><br /><a href="#NSCALL_savepoint">NSCALL_savepoint</a><br /><a href="#NSCALL_tag">NSCALL_tag</a><br /><a href="#NSCALL_text">NSCALL_text</a><br /><a href="#NSCALL_text0">NSCALL_text0</a><br /><a href="#NSCheckComma">NSCheckComma</a><br /><a href="#NSClick">NSClick</a><br /><a href="#NSCOM_">NSCOM_</a><br /><a href="#NSCOM_main">NSCOM_main</a><br /><a href="#NSDBlt">NSDBlt</a><br /><a href="#NSDCall">NSDCall</a><br /><a href="#NSDClear">NSDClear</a><br /><a href="#NSDCopyToBg">NSDCopyToBg</a><br /><a href="#NSDDelete">NSDDelete</a><br /><a href="#NSDDLL">NSDDLL</a><br /><a href="#NSDefSpline">NSDefSpline</a><br /><a href="#NSDFill">NSDFill</a><br /><a href="#NSDGetSize">NSDGetSize</a><br /><a href="#NSDLoad">NSDLoad</a><br /><a href="#NSDoEvents">NSDoEvents</a><br /><a href="#NSDOffMode">NSDOffMode</a><br /><a href="#NSDPresent">NSDPresent</a><br /><a href="#NSDPresentRect">NSDPresentRect</a><br /><a href="#NSDSetSprite">NSDSetSprite</a><br /><a href="#NSDSp">NSDSp</a><br /><a href="#NSDSp2">NSDSp2</a><br /><a href="#NSDSp2Add">NSDSp2Add</a><br /><a href="#NSDSpAdd">NSDSpAdd</a><br /><a href="#NSDTransition">NSDTransition</a><br /><a href="#NSDTransitionF">NSDTransitionF</a><br /><a href="#NSEnd">NSEnd</a><br /><a href="#NSExec">NSExec</a><br /><a href="#NSExecAnimation">NSExecAnimation</a><br /><a href="#NSGetClick">NSGetClick</a><br /><a href="#NSGetFileInfo">NSGetFileInfo</a><br /><a href="#NSGetIntValue">NSGetIntValue</a><br /><a href="#NSGetKey">NSGetKey</a><br /><a href="#NSGetMouse">NSGetMouse</a><br /><a href="#NSGetSkip">NSGetSkip</a><br /><a href="#NSGetStrValue">NSGetStrValue</a><br /><a href="#NSGetWindowSize">NSGetWindowSize</a><br /><a href="#NSGosub">NSGosub</a><br /><a href="#NSGoto">NSGoto</a><br /><a href="#NSInvalidate">NSInvalidate</a><br /><a href="#NSLinear">NSLinear</a><br /><a href="#NSLuaAnimationInterval">NSLuaAnimationInterval</a><br /><a href="#NSLuaAnimationMode">NSLuaAnimationMode</a><br /><a href="#NSOggClose">NSOggClose</a><br /><a href="#NSOggFade">NSOggFade</a><br /><a href="#NSOggIsPlaying">NSOggIsPlaying</a><br /><a href="#NSOggLoad">NSOggLoad</a><br /><a href="#NSOggPlay">NSOggPlay</a><br /><a href="#NSOggPlay2">NSOggPlay2</a><br /><a href="#NSOggVolume">NSOggVolume</a><br /><a href="#NSOkBox">NSOkBox</a><br /><a href="#NSPopComma">NSPopComma</a><br /><a href="#NSPopID">NSPopID</a><br /><a href="#NSPopInt">NSPopInt</a><br /><a href="#NSPopIntRef">NSPopIntRef</a><br /><a href="#NSPopLabel">NSPopLabel</a><br /><a href="#NSPopStr">NSPopStr</a><br /><a href="#NSPopStrRef">NSPopStrRef</a><br /><a href="#NSReturn">NSReturn</a><br /><a href="#NSSavePoint">NSSavePoint</a><br /><a href="#NSSetIntValue">NSSetIntValue</a><br /><a href="#NSSetStrValue">NSSetStrValue</a><br /><a href="#NSSleep">NSSleep</a><br /><a href="#NSSp2Clear">NSSp2Clear</a><br /><a href="#NSSp2GetInfo">NSSp2GetInfo</a><br /><a href="#NSSp2GetPos">NSSp2GetPos</a><br /><a href="#NSSp2Load">NSSp2Load</a><br /><a href="#NSSp2Move">NSSp2Move</a><br /><a href="#NSSp2Visible">NSSp2Visible</a><br /><a href="#NSSpCell">NSSpCell</a><br /><a href="#NSSpClear">NSSpClear</a><br /><a href="#NSSpGetInfo">NSSpGetInfo</a><br /><a href="#NSSpGetPos">NSSpGetPos</a><br /><a href="#NSSpline">NSSpline</a><br /><a href="#NSSpLoad">NSSpLoad</a><br /><a href="#NSSpMove">NSSpMove</a><br /><a href="#NSSpVisible">NSSpVisible</a><br /><a href="#NSSystemCall">NSSystemCall</a><br /><a href="#NSTimer">NSTimer</a><br /><a href="#NSUpdate">NSUpdate</a><br /><a href="#NSYesNoBox">NSYesNoBox</a><br /></div></div><div id="MAIN"><a id="NL_dofile" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【特殊】</span><br /><span class="WordPhonetic">えぬえるどぅふぁいる</span><br />NL_dofile</h2><h4><a class="WordCategory" href="#category_base">基本機能</a></h4><h3>NL_dofile(Luaスクリプトファイル名)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">Luaスクリプトファイル名</span><br /></div><div class="ContentBody"><p class="Description">Lua標準関数のdofileではNSAやNS2アーカイブの中のファイルは実行できませんが、<br />NL_dofileはアーカイブの中のファイルも実行できます。<br />もちろん、system.luaもアーカイブの中から実行できます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">"lib.lua"を読み込む。</div><pre class="ExSource">NL_dofile("lib.lua")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_animation" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるあにめーしょん</span><br />NSCALL_animation</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_animation()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">画面更新フラグ(true:更新、false:更新しない)</span><br /></div><div class="ContentBody"><p class="Description">　　セルアニメーションと同じく、一定時間経過ごとに呼び出されます。<br />　　引数はありません。<br />　　戻り値にtrueを返すと画面を更新します。falseだと画面を更新しません。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">なお、アニメーション割り込みとは言ってもマルチスレッドではありません。<br />　　通常セルアニメーションが発生するクリック待ちなどのところでこの関数も呼ばれるだけです。<br />　　この関数が呼ばれている間は他の動作はストップします。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">アニメーション割り込みする。</div><pre class="ExSource">function NSCALL_animation()</pre></div><hr /><a href="#NSLuaAnimationInterval">NSLuaAnimationInterval</a> / <a href="#NSLuaAnimationMode">NSLuaAnimationMode</a> / <a href="#NSTimer">NSTimer</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_close" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるくろーず</span><br />NSCALL_close</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_close()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">「閉じる」押下後の動作（true:終了処理の続行、false:キャンセル）</span><br /></div><div class="ContentBody"><p class="Description">　　ウィンドウの「閉じる」をクリックしたときの動作を指定します。<br />　　引数はありません。戻り値trueでプログラムを終了、falseでキャンセルです。<br />　　戻り値：この後の動作（trueで終了処理の続行、falseでキャンセル）</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">この命令を使うと、デフォルトの処理（ダイアログ）は行われなくなります。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ウィンドウの「閉じる」をクリックしたときの動作を指定する。</div><pre class="ExSource">function NSCALL_close ()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_end" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるえんど</span><br />NSCALL_end</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_end()</h3><div class="ContentBody"><p class="Description">　　プログラムが終了する直前の動作を指定します。<br />　　引数も戻り値もありません。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">プログラムが終了する直前の動作を指定する。</div><pre class="ExSource">function NSCALL_end ()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_load" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるろーど</span><br />NSCALL_load</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_load(savenum)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">セーブ番号</span><br /></div><div class="ContentBody"><p class="Description">　　セーブデータがロードされた直後に呼び出されます。<br />　　saveコールバック関数で保存したデータを読み込んで処理をしてください。<br />　　引数はセーブ番号、戻り値はありません。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ロードされた直後の動作を指定する。</div><pre class="ExSource">function NSCALL_load(savenum)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_reset" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるりせっと</span><br />NSCALL_reset</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_reset()</h3><div class="ContentBody"><p class="Description">　　*define節からgame命令によって、もしくはリセットによって*startに飛んだときに呼ばれます。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">なお、単にgoto *startでは呼ばれません（それはリセットではないので）。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">実行節開始時・リセット時の直後の動作を指定する。</div><pre class="ExSource">function NSCALL_reset()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_save" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるせーぶ</span><br />NSCALL_save</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_save(savenum)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">セーブ番号</span><br /></div><div class="ContentBody"><p class="Description">　　シナリオスクリプト側のデータが実際にセーブされる直前に呼び出されます。<br />　　セーブされるべきなのは、この関数が呼び出されたそのときのデータではなく、<br />　　最後に到達したセーブポイント時点でのデータです。間違わないようご注意ください。<br />　　引数はセーブ番号、戻り値はありません。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">この命令を使っても、その後でデフォルトの処理はちゃんと行われます。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">セーブされる直前の動作を指定する。</div><pre class="ExSource">function NSCALL_save(savenum)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_savepoint" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるせーぶぽいんと</span><br />NSCALL_savepoint</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_savepoint()</h3><div class="ContentBody"><p class="Description">　　セーブポイントに到達したときに呼び出されます。<br />　　Lua側でセーブしておきたいデータがある場合はこの段階でメモリ内のセーブデータを更新してください。<br />　　引数も戻り値もありません。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">この命令を使っても、その後でデフォルトの処理はちゃんと行われます。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">セーブポイントに到達したときの動作を指定する。</div><pre class="ExSource">function NSCALL_savepoint()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_tag" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるたぐ</span><br />NSCALL_tag</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_tag(tag)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">タグテキスト</span><br /></div><div class="ContentBody"><p class="Description">　　デフォルトのpretextgosubのタイミングで呼び出されます。<br />　　この命令を使うとデフォルトの処理は行われなくなります。pregextgosubも無効になります。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">NSCALL_tagからNSGotoやNSGosub等でジャンプしないでください。戻ってこれなくなります。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">タグテキストを取得する。</div><pre class="ExSource">function NSCALL_tag(tag)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_text" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるてきすと</span><br />NSCALL_text</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_text(printstr)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">表示文（変換後）</span><br /></div><div class="ContentBody"><p class="Description">　　表示文の、変換が終わったものが送られます。実際に表示される文字列です。<br />　　テキストを表示します。@や\を読み込んだら対応するクリック待ちも行ってください。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">この命令を使うと、デフォルトの処理は行われなくなります。textgosubも無効になります。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">表示文（変換後）を取得する。</div><pre class="ExSource">function NSCALL_text(printstr)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCALL_text0" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【コールバック】</span><br /><span class="WordPhonetic">えぬえすこーるてきすとぜろ</span><br />NSCALL_text0</h2><h4><a class="WordCategory" href="#category_callback">コールバック</a></h4><h3>function NSCALL_text0(plainstr)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">表示文（変換前）</span><br /></div><div class="ContentBody"><p class="Description">　　表示文の、表示テキストが渡されたタイミングで呼び出されます。<br />　　この段階では変数を展開したり半角数字を全角に直したりしていません。<br />　　自動で変換をしたくない場合はこちらを設定します。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">この命令を使うと、デフォルトの変換処理やテキスト表示処理を呼び出しません。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">表示文（変換後）を取得する。</div><pre class="ExSource">function NSCALL_text0(plainstr)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCheckComma" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすちぇっくこんま</span><br />NSCheckComma</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>b=NSCheckComma()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">次がコンマならtrue、コンマでなければfalse</span><br /></div><div class="ContentBody"><p class="Description">次の記号がコンマかどうかを調べます。読み込みはしません。引数の数を変えたいときに使います。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">bに次の記号がコンマかどうかを調べた結果を取得する。</div><pre class="ExSource">b=NSCheckComma() -- 次がコンマならb=true コンマでなければb=falseが代入される。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSClick" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすくりっく</span><br />NSClick</h2><h4><a class="WordCategory" href="#category_input">キーボード・マウス入力</a></h4><h3>NSClick()</h3><div class="ContentBody"><p class="Description">click命令と等価です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">左クリックを待ちます。</div><pre class="ExSource">NSClick()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCOM_" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすこむ</span><br />NSCOM_</h2><h4><a class="WordCategory" href="#category_base">基本機能</a></h4><h3>function NSCOM_func() end</h3><div class="ContentBody"><p class="Description">luasub func<br />この命令を実行すると、以後シナリオスクリプト（00.txt〜）でfunc命令を実行したときに、<br />Lua関数 NSCOM_func() が呼び出されます。<br />luasubで登録されるLua関数には引数も戻り値もありません。<br />引数や戻り値はそれぞれ下で説明している関数を使って利用してください。<br />なお、既存の命令も上書きできます。<br />たとえばluasub bgとすると、もともとのbg命令ではなくluaのNSCOM_bg関数が優先されます。<br />もともとのbg命令を呼びたい場合は、defsubのときと同様_bgとしてください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NScrLua命令funcを定義して呼び出す。</div><pre class="ExSource">--- NScripter ---
*define
luasub func
game
*start
func
\
end

--- Lua ---
function NSCOM_func(){
    NSExec("puttext \"成功\"")
}
</pre></div><hr /><a href="#NSCheckComma">NSCheckComma</a> / <a href="#NSGetIntValue">NSGetIntValue</a> / <a href="#NSGetStrValue">NSGetStrValue</a> / <a href="#NSPopComma">NSPopComma</a> / <a href="#NSPopID">NSPopID</a> / <a href="#NSPopInt">NSPopInt</a> / <a href="#NSPopIntRef">NSPopIntRef</a> / <a href="#NSPopLabel">NSPopLabel</a> / <a href="#NSPopStr">NSPopStr</a> / <a href="#NSPopStrRef">NSPopStrRef</a> / <a href="#NSSetIntValue">NSSetIntValue</a> / <a href="#NSSetStrValue">NSSetStrValue</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSCOM_main" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすこむめいん</span><br />NSCOM_main</h2><h4><a class="WordCategory" href="#category_base">基本機能</a></h4><h3>function NSCOM_main() end</h3><div class="ContentBody"><p class="Description">0.txt 00.txt nscript.datがなくて、system.luaだけがあるとき、system.luaだけで起動するようになりました。<br />;mode800等の設定は、一行目に--mode800 などのようにして行います（動作は0.txtの時と同じ）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">Luaのみで800*600で起動して挨拶を表示する。</div><pre class="ExSource">
--mode800

function NSCOM_main(){
    NSExec("puttext \"起動した！\"")
    NSClick()
    NSEnd()
}
</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDBlt" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーびると</span><br />NSDBlt</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDBlt(num,dx,dy,w,h,sx,sy)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">幅</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">高さ</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上Y座標</span><br /></div><div class="ContentBody"><p class="Description">テクスチャをそのまま画面にコピーします。<br />numはテクスチャ番号です。<br />dx,dyは転送先、画面上の左上の点の座標。sx,syは転送元、テクスチャ上の左上の点の座標、w,hは幅と高さです。<br />矩形を重ね合わせを考慮せずそのままコピーしますので、ここから先で説明しているNSDSp〜系の命令よりも高速です。<br />αブレンディングも重ね合わせや変形の必要もない画像はなるべくこの関数で描画してください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ0番の座標(64,0)サイズ32x32を画面座標(0,64)にコピーします。</div><pre class="ExSource">NSDBlt(0,0,64,32,32,64,0)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDCall" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーこーる</span><br />NSDCall</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDCall(texnum,filename,procnum(,param))</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">ファイル名</span><br /></div><div class="ContentBody"><p class="Description">テクスチャ作成時に、外部DLLを使ってテクスチャの中身をバイト単位で設定できます。<br />NSD系のテクスチャは作成時の内容を変更することが出来ません。<br />例えば、フォントを出力するような外部DLLを使って、文字フォントのテクスチャを作ることが出来ます。<br />なお、引数paramがない場合は省略できます（この場合、DLLにはNULLが送られます）。<br />呼び出されるDLL関数の型は次の通りにしてください。<br />void Func (unsigned char *ptr,int w,int h,const char *param);<br />paramは呼び出し元から渡された文字列引数です。指定されなかった場合はNULLが入ります。<br />wは画像の幅、hは画像の高さです。<br />ptrはビットデータ配列です。<br />(x,y)ピクセルのデータはptr[x*4+y*w*4]〜ptr[x*4+y*w*4+3]にあります。<br />x*4+y*w*4=posとおくと、p[pos]=青 p[pos+1]=緑 p[pos+2]=赤 p[pos+3]=α値です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">10番テクスチャをまず画像ファイル"*200,60"（つまり200x60の完全透明画像）で初期化し、
その後、番号fontprocに登録したDLL関数を"20,20,あいうえお"という引数で呼び出します</div><pre class="ExSource">NSDCall(10,"*200,60",fontproc,"20,20,あいうえお")</pre><span class="ExHeading">例)</span><br /><div class="ExComment">8番テクスチャをまずtest.pngで初期化し、番号filterprocに登録したDLL関数を"gauss"という引数で呼び出します。</div><pre class="ExSource">NSDCall(8,"test.png",filterproc,"gauss")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDClear" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーくりあ</span><br />NSDClear</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDClear()</h3><div class="ContentBody"><p class="Description">画面を真っ黒でクリアします。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">画面を真っ黒でクリアします。</div><pre class="ExSource">NSDClear()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDCopyToBg" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーこぴーとぅびーじー</span><br />NSDCopyToBg</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDCopyToBg()</h3><div class="ContentBody"><p class="Description">NSD〜系の画像処理は、NScripterの描画処理とは独立しています。<br />したがって、Lua関数から抜けたり、Lua内部からNScripterの元々の機能を呼び出すと、描画している画像は全部上書きされてしまいます。<br />残す必要がある場合は、この関数を実行することで、今現在の画面をNScripter上の「背景画面」としてコピーすることが出来ます。<br />なお、この命令はNScripter側のBGロードと同じ処理をしていますので、立ち絵は全部消去されます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">今現在の画面をNScripter上の「背景画面」としてコピーします。</div><pre class="ExSource">NSDCopyToBg()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDDelete" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーでりーと</span><br />NSDDelete</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDDelete(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /></div><div class="ContentBody"><p class="Description">テクスチャを削除します。なお、明示的に削除しなくても、同じ番号にテクスチャをロードすると古いテクスチャは削除されます。<br />　使わなくなったテクスチャは削除するとメモリが節約できます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">0番のテクスチャを削除します。</div><pre class="ExSource">NSDDelete(0)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDDLL" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーでぃーえるえる</span><br />NSDDLL</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>procnum=NSDDLL(dllname,funcname)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">DLLファイル名</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">関数名</span><br /></div><div class="ContentBody"><p class="Description">NSD系命令のテクスチャ作成時に呼び出すDLL関数を設定します。<br />Luaファイル読み込み時に一度だけ実行してください。<br />戻り値の番号はNSDCall関数にて引数に指定します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">deffont.dll内のFont関数を読み込み、関数番号をfontprocに格納します。</div><pre class="ExSource">fontproc=NSDDLL("deffont.dll","Font")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDefSpline" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでふすぷらいん</span><br />NSDefSpline</h2><h4><a class="WordCategory" href="#category_spline">スプライン補完</a></h4><h3>NSDefSpline(num,xarray,yarray)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">データ番号(0〜99)</span><br /><span class="ArgType">配列</span><span class="ArgMeaning">xの座標を小さい順に格納した配列</span><br /><span class="ArgType">配列</span><span class="ArgMeaning">xにそれぞれ対応するyの値を格納した配列</span><br /></div><div class="ContentBody"><p class="Description">numにはスプライン補間のデータ番号（０〜９９）を指定します。<br />xarrayにxの座標を小さい順に格納した配列、yarrayにそのxにそれぞれ対応するyの値を格納した配列を渡します。<br />スプライン補間に必要な計算をして、そのデータ番号に登録します。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">なお、スプライン補間のためには点のデータは最低でも三つ必要です。<br />20090419版以降で実装。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment"></div><pre class="ExSource"></pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDFill" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーふぃる</span><br />NSDFill</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDFill(lx,ly,rx,ry,r,g,b)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">右下X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">右下Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">赤成分(0〜255)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">緑成分(0〜255)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">青成分(0〜255)</span><br /></div><div class="ContentBody"><p class="Description">画面の指定した領域を指定した色で塗りつぶします。<br />それぞれ、左上の座標、右下の座標、RGBの指定（0〜255で）です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">640x480時に画面の全体を白色で塗りつぶします。</div><pre class="ExSource">NSDFill(0,0,639,479,255,255,255)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDGetSize" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーげっとさいず</span><br />NSDGetSize</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>width,height=NSDGetSize(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /></div><div class="ContentBody"><p class="Description">テクスチャのサイズを取得します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">0番のテクスチャのサイズを取得します。</div><pre class="ExSource">width,height=NSDGetSize(0)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDLoad" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーろーど</span><br />NSDLoad</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDLoad(num,filename)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">PNGファイル名</span><br /></div><div class="ContentBody"><p class="Description">PNGファイルをテクスチャとしてロードします。アーカイブからでも裸でも読めます（ただし最新版のnspng.dllが必要）<br />numはテクスチャ番号です。0から15が指定できます。<br />この関数群は画像の一部を指定して転送することが出来ますので、一緒に使うチップは連結してまとめて置いてください。<br />（これは、将来的にグラフィックカードのテクスチャ機能に置き換えるときに、テクスチャ切り替えを少なくして高速化するためです）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ2番にtest.pngを読み込みます。</div><pre class="ExSource">NSDLoad(2,"test.png")</pre><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ3番に32x32ドットの完全透明画像を作成します。</div><pre class="ExSource">NSDLoad(3,"*32,32")
-- 色指定を省略すると完全透明なテクスチャになります。
-- これはNSDLoadでは使い道がありませんが、後で説明するNSDCallで使います</pre><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ4番に48x24ドット、R=128 G=64 B=32 α=255で塗りつぶされた画像を作成します。</div><pre class="ExSource">NSDLoad(4,"*48,24,128,64,32,255")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDoEvents" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすどぅいべんつ</span><br />NSDoEvents</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>b=NSDoEvents()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">trueのときは直ちにNScripterに処理を戻す</span><br /></div><div class="ContentBody"><p class="Description">時間のかかる関数からは時々これを呼んでWindowsのメッセージを処理してください。<br />戻り値は終了フラグです。trueのときは直ちに関数から抜けてNScripterに処理を戻してください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">Windowsのメッセージを処理させる。</div><pre class="ExSource">b=NSDoEvents() -- b==trueのときは処理をやめてLua関数から抜けること</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDOffMode" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーおふもーど</span><br />NSDOffMode</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDOffMode(mode)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">真偽値</span><span class="ArgMeaning">trueでオフスクリーンバッファに変更</span><br /></div><div class="ContentBody"><p class="Description">NSDOffMode(true)で、NSD系命令の書きこみ先をオフスクリーンバッファに変更します。<br />NSDOffMode(false)で、NSD系命令の書きこみ先は画面になります。デフォルトの書き込み先は画面です。<br />NSDOffMode(true)の時は、NSDPresent、NSDPresentRectは使えません（画面には書きこんでいないため）。<br />この命令は、次のNSDTransitionと組み合わせて、トランジションを実現するために使います。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NSD系命令の書きこみ先をオフスクリーンバッファに変更します。</div><pre class="ExSource">NSDOffMode(true)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDPresent" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーぷりぜんと</span><br />NSDPresent</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDPresent()</h3><div class="ContentBody"><p class="Description">画面を実際に更新します。ウィンドウ内が再描画されます。<br />NSDPresent()は全画面、NSDPresetnRect(lx,ly,rx,ry)は指定した矩形領域が再描画されます（それぞれ左上座標、右上座標です）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NSD系命令で描画した画面を実際に更新します。</div><pre class="ExSource">NSDPresent()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDPresentRect" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーぷりぜんとれくと</span><br />NSDPresentRect</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDPresentRect(lx,ly,rx,ry)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">右下X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">右下Y座標</span><br /></div><div class="ContentBody"><p class="Description">画面を実際に更新します。ウィンドウ内が再描画されます。<br />NSDPresent()は全画面、NSDPresetnRect(lx,ly,rx,ry)は指定した矩形領域が再描画されます（それぞれ左上座標、右上座標です）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NSD系命令で描画した画面の左半分を実際に更新します。</div><pre class="ExSource">NSDPresentRect(0,0,319,479)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDSetSprite" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーせっとすぷらいと</span><br />NSDSetSprite</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDSetSprite(spnum,texnum(,tag))</h3><div class="ContentBody"><p class="Description">NSD系命令用のテクスチャを、NScripterのスプライトに変換します。<br />タグは省略すると"a;"になります。<br />NSD系命令のテクスチャは常にα付きなので、:a以外には変換できません。<br />NSD系命令のテクスチャにはセルやアニメ設定の概念がないので、設定が必要ならタグを指定する必要があります。<br />DLLで作ったフォント画像をNScripterのテクスチャにしたい時などに使えると思います。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NScripterのスプライト0番にテクスチャ8番の画像を変換する。</div><pre class="ExSource">NSDSetSprite(0,8)</pre><span class="ExHeading">例)</span><br /><div class="ExComment">NScripterのスプライト3番にテクスチャ10番の画像をセル数2アニメ無しで変換する。</div><pre class="ExSource">NSDSetSprite(3,10,":a/2,0,3;")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDSp" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーえすぴー</span><br />NSDSp</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDSp(num,dx,dy,w,h,sx,sy,alpha)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">幅</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">高さ</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">α値</span><br /></div><div class="ContentBody"><p class="Description">テクスチャをα値を考慮して重ね合わせで表示します。拡大縮小回転などの変形処理は行われません。<br />numはテクスチャ番号です。<br />dx,dyは転送先、画面上の左上の点の座標。sx,syは転送元、テクスチャ上の左上の点の座標、w,hは幅と高さ、alphaは全体のα値です。<br />転送元のテクスチャ画像のα値をそのまま使いたい場合は、alphaには255を指定して下さい。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ0番の座標(64,0)サイズ32x32を画面座標(0,64)に半透過で表示します。</div><pre class="ExSource">NSDSp(0,0,64,32,32,64,0,128)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDSp2" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーえすぴーつー</span><br />NSDSp2</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDSp2(num,dcx,dcy,sx,sy,w,h,xs,ys,rot,alpha)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先中心X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先中心Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">変形前幅</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">変形前高さ</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">横の倍率（1.0が元のサイズ）</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">縦の倍率（1.0が元のサイズ）</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">回転角（度単位、0.0が回転無し）</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">α値</span><br /></div><div class="ContentBody"><p class="Description">テクスチャを回転拡大縮小などの変形処理を加えて画面に転送します。<br />numはテクスチャ番号です。<br />dcx,dcyは転送先画面の「中心の」座標、sx,syは転送元テクスチャの「左上の」座標、w,hはテクスチャの「変形前の」幅と高さです。<br />xs,ysは横・縦の倍率（少数で、1.0が元のサイズ）,rotは回転角（度単位で、少数で、0.0が回転無し）です。alphaは全体のα値です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ0番の座標(64,0)サイズ32x32を画面中心座標(16,80)に、半サイズ・90度回転、半透過で表示します。</div><pre class="ExSource">NSDSp2(0,16,80,64,0,32,32,0.5,0.5,90,128)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDSp2Add" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーえすぴーつーあっど</span><br />NSDSp2Add</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDSp2Add(num,dcx,dcy,sx,sy,w,h,xs,ys,rot,alpha)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先中心X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先中心Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">変形前幅</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">変形前高さ</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">横の倍率（1.0が元のサイズ）</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">縦の倍率（1.0が元のサイズ）</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">回転角（度単位、0.0が回転無し）</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">α値</span><br /></div><div class="ContentBody"><p class="Description">テクスチャを回転拡大縮小などの変形処理を加えて画面に転送します。<br />numはテクスチャ番号です。<br />dcx,dcyは転送先画面の「中心の」座標、sx,syは転送元テクスチャの「左上の」座標、w,hはテクスチャの「変形前の」幅と高さです。<br />xs,ysは横・縦の倍率（少数で、1.0が元のサイズ）,rotは回転角（度単位で、少数で、0.0が回転無し）です。alphaは全体のα値です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ0番の座標(64,0)サイズ32x32を画面中心座標(16,80)に、半サイズ・90度回転、半透過で表示します。</div><pre class="ExSource">NSDSp2Add(0,16,80,64,0,32,32,0.5,0.5,90,128)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDSpAdd" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーえすぴーあっど</span><br />NSDSpAdd</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDSpAdd(num,dx,dy,w,h,sx,sy,alpha)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">テクスチャ番号(0〜15)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送先左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">幅</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">高さ</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">転送元左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">α値</span><br /></div><div class="ContentBody"><p class="Description">テクスチャをα値を考慮して、加算合成で表示します。その他はNSDSpと同じです。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">現状では関係ありませんが、将来的にグラフィックカードの機能を使うときには、なるべくNSDSpAdd,NSDSp2AddとNSDSp,NSDSp2はまとめて実行したほうがいいです。<br />そのほうがグラフィックカードのモード切替が減らせて、高速化されるからです。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">テクスチャ0番の座標(64,0)サイズ32x32を画面座標(0,64)に半加算合成で表示します。</div><pre class="ExSource">NSDSpAdd(0,0,64,32,32,64,0,128)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDTransition" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーとらんじしょん</span><br />NSDTransition</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDTransition(effectnum,effecttime,rulename)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">エフェクト番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">持続時間</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">ルールファイル名</span><br /></div><div class="ContentBody"><p class="Description">NSDOffMode(true)でオフスクリーンに描き込まれた画像を、実際に画面に反映します。<br />この関数は、一端画像をNScripterのデータに書き戻してNScripter側のエフェクト処理を呼んでいますので、NScripter側のエフェクトと同程度の重さの処理になります。<br />NSD〜系の描画だけで実現できるエフェクトは、そちらで実装したほうが高速になります。<br />このとき、NScripterと同じエフェクトが使えます。また、この関数は引数を省略できます。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ルール画像の指定にはbmpも使えますが、PNGに統一したほうがややこしくないと思います。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">オフスクリーンに描き込まれた画像を、実際に画面に反映します。</div><pre class="ExSource">NSDTransition(1)</pre><span class="ExHeading">例)</span><br /><div class="ExComment">print 10,500と同じエフェクトを使いたい場合</div><pre class="ExSource">NSDTransition(10,500)</pre><span class="ExHeading">例)</span><br /><div class="ExComment">print 18,1000,"rule.png"と同じエフェクトを使いたい場合</div><pre class="ExSource">NSDTransition(18,1000,"rule.png")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSDTransitionF" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすでぃーとらんじしょんえふ</span><br />NSDTransitionF</h2><h4><a class="WordCategory" href="#category_directdraw">直接描画</a></h4><h3>NSDTransitionF(effectnum,effecttime,rulename)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">エフェクト番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">持続時間</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">ルールファイル名</span><br /></div><div class="ContentBody"><p class="Description">NSDTransition関数は、CTRLキーで高速化したりスペースやクリックでキャンセルしたり出来ます。<br />NSDTransitionFは高速化やキャンセルが出来ないトランジションを実行します。<br />そのほかはNSDTransitionと同じです。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">オフスクリーンに描き込まれた画像を、実際に画面に反映します。</div><pre class="ExSource">NSDTransitionF(1)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSEnd" /><h2><span class="WordVersion">Ver.2.95</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえんど</span><br />NSEnd</h2><h4><a class="WordCategory" href="#category_base">基本機能</a></h4><h3>NSEnd()</h3><div class="ContentBody"><p class="Description">NScripterの動作を終了します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NScripterの動作を終了します。</div><pre class="ExSource">NSEnd()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSExec" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすえぐぜく</span><br />NSExec</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSExec(script)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">スクリプト文字列</span><br /></div><div class="ContentBody"><p class="Description">　文字列で指定されたNScripterの命令を実行します。<br />　命令は一回にひとつだけです。:によるマルチステートメントは使えません。<br />　複数の命令を実行したい場合は、この命令を続けて複数回呼んでください。<br />　goto gosub selectなどジャンプが伴う命令、for next命令は使えません。<br />　命令がLuaを呼び出してもかまいませんが、そこからNSExecを二重に呼んではいけません。<br />　if文は使えますが、マルチステートメントが使えないので、Lua側のifのほうが書きやすいと思います。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">define時に行いたい処理はsystem.luaに裸で書いておけば読み込み時に実行されます。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">"amsp 10,100,50"を実行する。</div><pre class="ExSource">NSExec("amsp 10,100,50")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSExecAnimation" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえぐぜくあにめーしょん</span><br />NSExecAnimation</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSExecAnimation()</h3><div class="ContentBody"><p class="Description">NScripterのアニメーション処理を実行します。<br />普段は定期的に呼ばれている関数ですが、Lua内からは自動では呼ばれないので、<br />アニメーションを実行する必要がある場合は、時々この命令を呼んでください。<br />（メッセージ待ちの時などに呼ぶのが一般的な使い方です）</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">なお、アニメーションによってLua関数NSCALL_animationが呼ばれる可能性がありますが、<br />NSCALL_animationの中からこの関数を呼ぶと無限ループするので、呼ばないでください。<br />なお、この関数だけでは表示はされません。NSUpdate()もしくはNSExec("print 1")などを呼ぶ必要があります。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NScripterのアニメーション処理を実行する。</div><pre class="ExSource">NSExecAnimation()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetClick" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすげっとくりっく</span><br />NSGetClick</h2><h4><a class="WordCategory" href="#category_input">キーボード・マウス入力</a></h4><h3>l,r,w,ld,rd=NSGetClick()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">左クリックアップ(true:入力あり、false:入力なし)</span><br /><span class="RetType">真偽値</span><span class="RetMeaning">右クリックアップ(true:入力あり、false:入力なし)</span><br /><span class="RetType">整数</span><span class="RetMeaning">ホイール入力(0:入力なし、1以上:上回転、-1以下:下回転)</span><br /><span class="RetType">真偽値</span><span class="RetMeaning">左クリックダウン(true:入力あり、false:入力なし)</span><br /><span class="RetType">真偽値</span><span class="RetMeaning">右クリックダウン(true:入力あり、false:入力なし)</span><br /></div><div class="ContentBody"><p class="Description">最後に入力されたマウスクリックを取得します。<br />lは左クリックアップ（trueかfalse）、rは右クリックアップ（trueかfalse）、wはホイール入力（整数）<br />ldは左クリックダウン（trueかfalse）、rdは右クリックダウン（trueかfalse）です。<br />基本的にはlとrとwを見ておけばいいです。アクションゲーム等でldやrdを使うこともあるかもしれません。<br />Luaは戻り値を省略できるので、後ろが必要ない場合は省けます。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ホイールクリックは取得できません。(by senzogawa)</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">最後に入力されたマウスクリックを取得する。</div><pre class="ExSource">l=NSGetMouse() -- 左クリックだけ取得
l,r,w=NSGetMouse() -- 左右クリックとホイールを取得
l,r,w,ld,rd=NSGetMouse() -- 全部取得</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetFileInfo" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすげっとふぁいるいんふぉ</span><br />NSGetFileInfo</h2><h4><a class="WordCategory" href="#category_systeminfo">システム情報</a></h4><h3>arcname,offset,length=NSGetFileInfo(filename)</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">文字列</span><span class="RetMeaning">アーカイブのファイル名(無い場合はnil)</span><br /><span class="RetType">整数</span><span class="RetMeaning">スタート位置offset(ファイル先頭から)</span><br /><span class="RetType">整数</span><span class="RetMeaning">サイズlength(単位バイト)</span><br /></div><div class="ContentBody"><p class="Description">指定したファイルfilenameをnsaもしくはns2アーカイブから探し、<br />アーカイブのファイル名arcnameと、スタート位置offset（ファイル先頭から）と、<br />サイズlength（単位バイト）を返します。<br />ただし、アーカイブでなく生でそのファイルがある場合は、<br />arcnameにはfilenameそのまま、位置とサイズにはともに０を返します。<br />（生ファイルのサイズを代入するわけではないので注意）<br />ファイルがなかったときはarcnameにnilを返します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">"test.dat"の情報を取得する。</div><pre class="ExSource">arcname,offset,length=NSGetFileInfo("test.dat")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetIntValue" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすげっといんとばりゅー</span><br />NSGetIntValue</h2><h4><a class="WordCategory" href="#category_variable">変数操作</a></h4><h3>num=NSGetIntValue(var)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">数値変数番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">数値変数番号の値</span><br /></div><div class="ContentBody"><p class="Description">NScripterの数値変数から値を取得します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">%10の値を取得する。</div><pre class="ExSource">num=NSGetIntValue(10) -- %10の値が返る。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetKey" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすげっときー</span><br />NSGetKey</h2><h4><a class="WordCategory" href="#category_input">キーボード・マウス入力</a></h4><h3>b=NSGetKey(keycode)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">キー種別</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">左クリックアップ(true:入力あり、false:入力なし)</span><br /></div><div class="ContentBody"><p class="Description">そのキーが今押されているかどうかをtrueかfalseで返します。<br />NScripter命令の「checkkey」とだいたい同じです。<br />keycodeには次の文字列が指定できます。<br />　・英字１文字、数字、スペースなどはそのまま指定できます。<br />　・"ESC" エスケープキー<br />　・"SPACE"でもスペースキーは取得できます。<br />　・"RETURN" "ENTER" リターンキー<br />　・"CTRL" コントロールキー<br />　・"UP" "DOWN" "LEFT" "RIGHT" カーソルキー上下左右<br />　・"F1"〜"F12" ファンクションキー<br />　・"PAGEUP" "PAGEDOWN" ページアップ、ダウンキー<br />　・"SHIFT" シフトキー<br /></p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">キーが今押されているかどうかを取得する。</div><pre class="ExSource">b=checkkey("CTRL") -- CTRLキーが押されていればtrue</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetMouse" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすげっとまうす</span><br />NSGetMouse</h2><h4><a class="WordCategory" href="#category_input">キーボード・マウス入力</a></h4><h3>x,y=NSGetMouse()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">マウスのX座標(画面外の場合は-1)</span><br /><span class="RetType">整数</span><span class="RetMeaning">マウスのY座標(画面外の場合は-1)</span><br /></div><div class="ContentBody"><p class="Description">マウスの位置を取得します。画面外の場合は-1,-1が返ります。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">マウスの位置を変数x,yに取得する。</div><pre class="ExSource">x,y=NSGetMouse()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetSkip" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすげっとすきっぷ</span><br />NSGetSkip</h2><h4><a class="WordCategory" href="#category_systeminfo">システム情報</a></h4><h3>skipmode=NSGetSkip()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">スキップモード(0:通常、1:スキップモード、2:オートモード)</span><br /></div><div class="ContentBody"><p class="Description">スキップ状態を取得します。0=スキップモードではない 1=スキップモード 2=オートモード です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スキップ状態を取得する。</div><pre class="ExSource">skipmode=NSGetSkip()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetStrValue" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすげっとえすてぃーあーるばりゅー</span><br />NSGetStrValue</h2><h4><a class="WordCategory" href="#category_variable">変数操作</a></h4><h3>str=NSGetStrValue(var)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">文字列変数番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">文字列</span><span class="RetMeaning">文字列変数番号の値</span><br /></div><div class="ContentBody"><p class="Description">NScripterの文字列変数から値を取得します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">$12の値を取得する。</div><pre class="ExSource">str=NSGetStrValue(12) -- $12の値が返る。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGetWindowSize" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすげっとうぃんどうさいず</span><br />NSGetWindowSize</h2><h4><a class="WordCategory" href="#category_systeminfo">システム情報</a></h4><h3>width,height=NSGetWindowSize()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">ウィンドウの幅</span><br /><span class="RetType">整数</span><span class="RetMeaning">ウィンドウの高さ</span><br /></div><div class="ContentBody"><p class="Description">NScripterのウィンドウの表示領域の大きさを得ます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NScripterのウィンドウの表示領域の大きさを取得する。</div><pre class="ExSource">width,height=NSGetWindowSize()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGosub" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすごーさぶ</span><br />NSGosub</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSGosub(label)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">ラベル文字列</span><br /></div><div class="ContentBody"><p class="Description">　文字列で指定したラベルにgosubジャンプします。つまりシナリオスクリプトのgosub命令と等価です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">"*sub"にジャンプする。</div><pre class="ExSource">NSGosub ("*sub")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSGoto" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすごーとぅー</span><br />NSGoto</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSGoto(label)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">ラベル文字列</span><br /></div><div class="ContentBody"><p class="Description">　文字列で指定したラベルにgotoジャンプします。つまりシナリオスクリプトのgoto命令と等価です。<br />　ここで、ジャンプするのはあくまでシナリオスクリプト(00.txt等)の実行位置であり、<br />　Luaの実行はそのまま続行されることに注意してください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">"*loop"にジャンプする。</div><pre class="ExSource">NSGoto ("*loop")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSInvalidate" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすいんばりでいと</span><br />NSInvalidate</h2><h4><a class="WordCategory" href="#category_draw">画面描画</a></h4><h3>NSInvalidate(lx,uy,rx,dy)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">左上X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">左上Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">右下X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">右下Y座標</span><br /></div><div class="ContentBody"><p class="Description">無効領域を追加します。この後NSUpdateで再描画します。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">ver.2.95にて利用可能となりました。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">無効領域を追加する。</div><pre class="ExSource">NSInvalidate(10,10,100,100) -- (10,10)-(100,100) 幅と高さではなく、「座標」です。</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSLinear" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすりにあ</span><br />NSLinear</h2><h4><a class="WordCategory" href="#category_spline">スプライン補完</a></h4><h3>y=NSLinear(x0,y0,x1,y1,x)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">直線上の点X0</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">直線上の点Y0</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">直線上の点X1</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">直線上の点Y1</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">y=f(x)のxの値</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">y=f(x)のyの値</span><br /></div><div class="ContentBody"><p class="Description">点x0,y0と点x1,y1を通るような関数fの、y=f(x)の値を求めます。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">20090419版以降で実装。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">(1,5)と(3,15)を通る直線はy=5xですので、x=4の時の値20がyに代入されます。</div><pre class="ExSource">y=NSLinear(1,5,3,15,4)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSLuaAnimationInterval" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすあにめーしょんいんたーばる</span><br />NSLuaAnimationInterval</h2><h4><a class="WordCategory" href="#category_animation">アニメーション</a></h4><h3>NSLuaAnimationInterval(intervalms)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">アニメーション割り込みの発生間隔(ミリ秒)</span><br /></div><div class="ContentBody"><p class="Description">アニメーション割り込みの発生間隔を指定します。<br />ミリ秒単位で指定出来ますが、その時間で必ず来るとは限りません。<br />物理的に間に合わない場合はかなり遅れて飛んでくることになります。<br />実際にどのタイミングで呼び出されたかは、NSTimer()を使って取得してください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">アニメーション割り込みの発生間隔を指定する。</div><pre class="ExSource">NSLuaAnimationInterval(20) -- 20ミリ秒に一回呼ばれる</pre></div><hr /><a href="#NSCALL_animation">NSCALL_animation</a> / <a href="#NSLuaAnimationMode">NSLuaAnimationMode</a> / <a href="#NSTimer">NSTimer</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSLuaAnimationMode" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすあにめーしょんもーど</span><br />NSLuaAnimationMode</h2><h4><a class="WordCategory" href="#category_animation">アニメーション</a></h4><h3>NSLuaAnimationMode(boolswitch)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">アニメーション割り込みの開始フラグ(true:開始、false:停止)</span><br /></div><div class="ContentBody"><p class="Description">NSLuaアニメーション割り込みを開始したり止めたり出来ます。<br />デフォルトはfalseですので、設定が終わったらこの関数でtrueを指定して、<br />割り込みを開始してください。Luaで操作したいオブジェクトがひとつもないときは、<br />falseを指定して割り込みをとめることが出来ます。trueを指定すればまた割り込みが発生します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NSLuaアニメーション割り込みを開始する。</div><pre class="ExSource">NSLuaAnimationMode(true)</pre></div><hr /><a href="#NSCALL_animation">NSCALL_animation</a> / <a href="#NSLuaAnimationInterval">NSLuaAnimationInterval</a> / <a href="#NSTimer">NSTimer</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggClose" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐくろーず</span><br />NSOggClose</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>NSOggClose(ch)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /></div><div class="ContentBody"><p class="Description">指定したチャンネルの演奏を終了します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ストリーミング再生チャンネル4の演奏を終了する。</div><pre class="ExSource">NSOggClose(4)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggFade" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐいずぷれいいんぐ</span><br />NSOggFade</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>NSOggFade(ch,startvol,endvol,time,closeflag)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">フェード開始音量</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">フェード終了音量</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">フェード時間(ミリ秒)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">フェード後終了フラグ(true:終了、false:続行)</span><br /></div><div class="ContentBody"><p class="Description">指定したチャンネルをフェード操作します。startvolからendvolまで変化します。timeの単位はミリ秒です。<br />closeflag=trueでフェード終了後ファイルをクローズします。falseの時は演奏続行です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ストリーミング再生チャンネル10の演奏状態をispに取得する。</div><pre class="ExSource">NSOggFade(4,-10000,0,1000,false)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggIsPlaying" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐいずぷれいいんぐ</span><br />NSOggIsPlaying</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>isplaying=NSOggIsPlaying(ch)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">演奏状態(true:演奏中、false:停止中)</span><br /></div><div class="ContentBody"><p class="Description">指定したチャンネルが演奏していればtrue していなければfalseが返ります。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">20090419版以降で戻り値が整数となるバグ修正。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ストリーミング再生チャンネル10の演奏状態をispに取得する。</div><pre class="ExSource">isp=NSOggIsPlaying(10)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggLoad" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐろーど</span><br />NSOggLoad</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>NSOggLoad(ch,filename)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">ファイル名</span><br /></div><div class="ContentBody"><p class="Description">ストリーミング再生チャンネルchにファイルをロードします。再生はしません。<br />nsogg2.dllが必要です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ストリーミング再生チャンネル3に"se.ogg"をロードする。</div><pre class="ExSource">NSOggLoad(3,"se.ogg")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggPlay" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐぷれい</span><br />NSOggPlay</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>NSOggPlay(ch,isloop)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /><span class="ArgType">真偽値</span><span class="ArgMeaning">ループフラグ(true:ループ、false:一回だけ)</span><br /></div><div class="ContentBody"><p class="Description">ロードしたファイルを再生します。isloop=trueでループ、falseで一回だけです。<br />nsogg2.dllが必要です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ストリーミング再生チャンネル3を一回だけ再生する。</div><pre class="ExSource">NSOggPlay(3,false)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggPlay2" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐぷれいつー</span><br />NSOggPlay2</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>NSOggPlay2(ch,point)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /><span class="ArgType">実数</span><span class="ArgMeaning">ループ開始点(秒)</span><br /></div><div class="ContentBody"><p class="Description">ロードしたファイルを再生します。ループ開始点を指定できます。<br />単位は秒で、double型（実数型）で指定できます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ループ開始点を1.4142秒後としてストリーミング再生チャンネル4を再生する。</div><pre class="ExSource">NSOggPlay2(4,1.4142)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOggVolume" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっぐぼりゅーむ</span><br />NSOggVolume</h2><h4><a class="WordCategory" href="#category_ogg">OGGファイル</a></h4><h3>NSOggVolume(ch,vol)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">チャンネル番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">音量(0:最大、-10000:最小)</span><br /></div><div class="ContentBody"><p class="Description">指定したチャンネルの音量を変更します。<br />0〜-10000が指定できます。0が最大、-10000が最小です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ストリーミング再生チャンネル3の音量を最大にする。</div><pre class="ExSource">NSOggVolume(3,0)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSOkBox" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすおっけーぼっくす</span><br />NSOkBox</h2><h4><a class="WordCategory" href="#category_dialog">ダイアログ</a></h4><h3>NSOkBox(text,title)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">本文</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">タイトル文字列</span><br /></div><div class="ContentBody"><p class="Description">ダイアログボックスを表示します。<br />NScripterでいうmesbox命令ですが、本文とタイトルの指定順が逆になっていますのでご注意ください。<br />（こちらのほうがWindowsでは標準のようなので、標準に従うことにしました。）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ダイアログボックスを表示する。</div><pre class="ExSource">NSOkBox("本文です","タイトルです。")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopComma" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷこんま</span><br />NSPopComma</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>NSPopComma()</h3><div class="ContentBody"><p class="Description">引数列のコンマをひとつ読み飛ばします。引数と引数の間には普通コンマがあります。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">引数列のコンマをひとつ読み飛ばす。</div><pre class="ExSource">NSPopComma()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopID" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷあいでぃー</span><br />NSPopID</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>id=NSPopID()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">文字列</span><span class="RetMeaning">識別子形式の文字列の引数(小文字)</span><br /></div><div class="ContentBody"><p class="Description">NScripterの識別子形式の文字列の引数をひとつ読み込みます。大文字が含まれていた場合小文字に変換されます。<br />識別子形式とは、たとえばbg命令のblackやwhiteだとか、ld命令のl r cだとかのように、""で囲まれていない文字列です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">idに識別子形式の文字列の引数をひとつ読み込む。</div><pre class="ExSource">id=NSPopID()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopInt" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷいんと</span><br />NSPopInt</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>number=NSPopInt()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">数値の引数</span><br /></div><div class="ContentBody"><p class="Description">NScripterの数値の引数をひとつ読み込みます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">numberに数値の引数をひとつ読み込む。</div><pre class="ExSource">number=NSPopInt()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopIntRef" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷいんとれふ</span><br />NSPopIntRef</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>ivalindex=NSPopIntRef()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">数値変数引数の番号</span><br /></div><div class="ContentBody"><p class="Description">NScripterの数値変数引数の番号をひとつ読み込みます。%5なら5です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">ivalindexに数値変数引数の番号をひとつ読み込む。</div><pre class="ExSource">ivalindex=NSPopIntRef()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopLabel" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷらべる</span><br />NSPopLabel</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>label=NSPopLabel()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">文字列</span><span class="RetMeaning">ラベル名の引数(小文字)</span><br /></div><div class="ContentBody"><p class="Description">NScripterのラベル名をひとつ読み込みます。大文字だった場合小文字に変換されます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">labelにラベル名をひとつ読み込む。</div><pre class="ExSource">label=NSPopLabel()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopStr" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷえすてぃーあーる</span><br />NSPopStr</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>str=NSPopStr()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">文字列</span><span class="RetMeaning">文字列の引数</span><br /></div><div class="ContentBody"><p class="Description">NScripterの文字列の引数をひとつ読み込みます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">strに文字列の引数をひとつ読み込む。</div><pre class="ExSource">str=NSPopStr()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSPopStrRef" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすぽっぷえすてぃーあーるれふ</span><br />NSPopStrRef</h2><h4><a class="WordCategory" href="#category_argument">引数操作</a></h4><h3>svalindex=NSPopStrRef()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">文字列変数引数の番号</span><br /></div><div class="ContentBody"><p class="Description">NScripterの文字列変数引数の番号をひとつ読み込みます。$10なら10です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">svalindexに文字列変数引数の番号をひとつ読み込む。</div><pre class="ExSource">svalindex=NSPopStrRef()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSReturn" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすりたーん</span><br />NSReturn</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSReturn()</h3><div class="ContentBody"><p class="Description">　シナリオスクリプトのサブルーチンからreturnします。つまりシナリオスクリプトのreturn命令と等価です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">シナリオスクリプトのサブルーチンからreturnする。</div><pre class="ExSource">NSReturn()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSavePoint" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすせーぶぽいんと</span><br />NSSavePoint</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSSavePoint()</h3><div class="ContentBody"><p class="Description">NSExec("savepoint")は駄目です。NSSavePoint()という専用の関数を使ってください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">セーブポイントを更新する。</div><pre class="ExSource">NSSavePoint()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSetIntValue" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすせっといんとばりゅー</span><br />NSSetIntValue</h2><h4><a class="WordCategory" href="#category_variable">変数操作</a></h4><h3>NSSetIntValue(var, num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">数値変数番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">整数</span><br /></div><div class="ContentBody"><p class="Description">NScripterの数値変数に値を設定します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">%3に10を設定する。</div><pre class="ExSource">NSSetIntValue(3,10) -- %3=10</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSetStrValue" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【高水準】</span><br /><span class="WordPhonetic">えぬえすせっとえすてぃーあーるばりゅー</span><br />NSSetStrValue</h2><h4><a class="WordCategory" href="#category_variable">変数操作</a></h4><h3>NSSetStrValue(var, str)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">文字列変数番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">整数</span><br /></div><div class="ContentBody"><p class="Description">NScripterの文字列変数に値を設定します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">$10に"test"を設定する。</div><pre class="ExSource">NSSetStrValue(10,"test") -- $10="test"</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSleep" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすすりーぷ</span><br />NSSleep</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSSleep(sleepms)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">動作を明け渡す時間(ミリ秒)</span><br /></div><div class="ContentBody"><p class="Description">指定した時間（ミリ秒単位）ほかのスレッドに動作を明け渡します。<br />NScripter命令の「wait」とだいたい同じです。<br />動作をすぐにNScripterに戻すスクリプトでは必要ありませんが、<br />長時間Luaスクリプトを走らせっぱなしにするとCPU使用率が上がるので、<br />適度にNSSleep(1)とかNSSleep(2)とかを呼んでCPU使用率を下げてください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">1ミリ秒間ほかのスレッドに動作を明け渡する。</div><pre class="ExSource">NSSleep(1)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSp2Clear" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーつーくりあ</span><br />NSSp2Clear</h2><h4><a class="WordCategory" href="#category_sprite_ex">拡張スプライト</a></h4><h3>NSSp2Clear(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">拡張スプライト番号</span><br /></div><div class="ContentBody"><p class="Description">拡張スプライトを消去します。<br />この命令だけでは画面に反映されませんのでNSUpdate()を呼んでください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">拡張スプライト番号2を消去する。</div><pre class="ExSource">NSSp2Clear(2)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSp2GetInfo" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーつーげっといんふぉ</span><br />NSSp2GetInfo</h2><h4><a class="WordCategory" href="#category_sprite_ex">拡張スプライト</a></h4><h3>width,height,cellnum=NSSp2GetInfo(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">拡張スプライト番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">幅</span><br /><span class="RetType">整数</span><span class="RetMeaning">高さ</span><br /><span class="RetType">整数</span><span class="RetMeaning">セル数</span><br /></div><div class="ContentBody"><p class="Description">拡張スプライトの情報を得ます。幅、高さ、セル数が得られます。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">Luaは戻り値を全部使わなくてもかまいません。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">拡張スプライト番号2の幅と高さを取得する。</div><pre class="ExSource">w,h=NSSp2GetInfo(2)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSp2GetPos" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーつーげっとぽす</span><br />NSSp2GetPos</h2><h4><a class="WordCategory" href="#category_sprite_ex">拡張スプライト</a></h4><h3>cx,cy,xs,ys,rot,alpha,ope=NSSp2GetPos(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">拡張スプライト番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">中心X座標</span><br /><span class="RetType">整数</span><span class="RetMeaning">中心Y座標</span><br /><span class="RetType">整数</span><span class="RetMeaning">横倍率</span><br /><span class="RetType">整数</span><span class="RetMeaning">縦倍率</span><br /><span class="RetType">整数</span><span class="RetMeaning">回転角</span><br /><span class="RetType">整数</span><span class="RetMeaning">α値(0:透過、255:不透過)</span><br /><span class="RetType">整数</span><span class="RetMeaning">出力オプション(0:普通、1:加算合成、2:減算合成)</span><br /></div><div class="ContentBody"><p class="Description">拡張スプライトの位置を得ます。中心座標Ｘ，Ｙ，横倍率,縦倍率,回転角,α値,出力オプションが得られます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">拡張スプライト番号7の中心座標をcx,cyに取得する。</div><pre class="ExSource">cx,cy=NSSp2GetPos(7)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSp2Load" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーつーろーど</span><br />NSSp2Load</h2><h4><a class="WordCategory" href="#category_sprite_ex">拡張スプライト</a></h4><h3>NSSp2Load(num,filename)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">拡張スプライト番号</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">ファイル名</span><br /></div><div class="ContentBody"><p class="Description">拡張スプライト（lsp2系）をロードします。<br />画面外にロードしますので、移動しないと見えません。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">拡張スプライト番号0に":a/2,0,3;test.bmp"をロードする。</div><pre class="ExSource">NSSp2Load(0,":a/2,0,3;test.bmp")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSp2Move" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーつーむーぶ</span><br />NSSp2Move</h2><h4><a class="WordCategory" href="#category_sprite_ex">拡張スプライト</a></h4><h3>NSSp2Move(num,cx,cy,xs,ys,rot,alpha,ope)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">拡張スプライト番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">移動先中心X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">移動先中心Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">横倍率</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">縦倍率</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">回転角</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">α値(0:透過、255:不透過)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">出力オプション(0:普通、1:加算合成、2:減算合成)</span><br /></div><div class="ContentBody"><p class="Description">拡張スプライトを移動します。<br />この命令だけでは画面に反映されませんのでNSUpdate()を呼んでください。<br />ope=0で普通、ope=1で加算ブレンディング、ope=2で減算ブレンディングです。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">拡張スプライト番号3を100,100に移動し、不透過値を255にする。</div><pre class="ExSource">NSSp2Move(0,100,100,100,100,45,255,0)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSp2Visible" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーつーびじぶる</span><br />NSSp2Visible</h2><h4><a class="WordCategory" href="#category_sprite_ex">拡張スプライト</a></h4><h3>NSSp2Visible(num,isvisible)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">拡張スプライト番号</span><br /><span class="ArgType">真偽値</span><span class="ArgMeaning">表示フラグ(true:表示、false:非表示)</span><br /></div><div class="ContentBody"><p class="Description">拡張スプライトを表示したり消したりします。trueで表示、falseで非表示です。<br />この命令だけでは画面に反映されませんのでNSUpdate()を呼んでください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">拡張スプライト番号1を表示する。</div><pre class="ExSource">NSSp2Visible(1,true)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpCell" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーせる</span><br />NSSpCell</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>NSSpCell(num,c)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">セル番号</span><br /></div><div class="ContentBody"><p class="Description">スプライトのセルを設定します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号4のセルを0に設定する。</div><pre class="ExSource">NSSpCell(4,0)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpClear" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーくりあ</span><br />NSSpClear</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>NSSpClear(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /></div><div class="ContentBody"><p class="Description">スプライトを消去します。<br />この命令だけでは画面に反映されませんのでNSUpdate()を呼んでください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号2を消去する。</div><pre class="ExSource">NSSpClear(2)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpGetInfo" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーげっといんふぉ</span><br />NSSpGetInfo</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>width,height,cellnum=NSSpGetInfo(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">幅</span><br /><span class="RetType">整数</span><span class="RetMeaning">高さ</span><br /><span class="RetType">整数</span><span class="RetMeaning">セル数</span><br /></div><div class="ContentBody"><p class="Description">スプライトの情報を得ます。幅、高さ、セル数が得られます。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">Luaは戻り値を全部使わなくてもかまいません。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号2の幅と高さを取得する。</div><pre class="ExSource">w,h=NSSpGetInfo(2)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpGetPos" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーげっとぽす</span><br />NSSpGetPos</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>lx,ly,alpha=NSSpGetPos(num)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">左上X座標</span><br /><span class="RetType">整数</span><span class="RetMeaning">左上Y座標</span><br /><span class="RetType">整数</span><span class="RetMeaning">α値(0:透過、255:不透過)</span><br /></div><div class="ContentBody"><p class="Description">スプライトの位置を得ます。左上座標Ｘ，Ｙ，α値が得られます。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号2の左上座標を取得する。</div><pre class="ExSource">lx,ly=NSSpGetPos(2)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpline" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすすぷらいん</span><br />NSSpline</h2><h4><a class="WordCategory" href="#category_spline">スプライン補完</a></h4><h3>y=NSSpline(num,x)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">データ番号(0〜99)</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">求めたいxの値</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">スプライン補間によるyの値</span><br /></div><div class="ContentBody"><p class="Description">NSDefSplineで定義したデータ番号を指定し、求めたいxの値を指定すると、スプライン補間によってyの値が返ります。<br />ここで、xはxarrayに指定した最小値と最大値の間になくてはなりません。</p><div class="Notice"><div class="NoticeHead">※</div><div class="NoticeBody">20090419版以降で実装。</div></div><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">y=6が返ります。</div><pre class="ExSource">xa={1,2,4} ya={2,4,8}
NSDefSpline(0,xa,ya)
y=NSSpline(0,3)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpLoad" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーろーど</span><br />NSSpLoad</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>NSSpLoad(num,filename)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">ファイル名</span><br /></div><div class="ContentBody"><p class="Description">普通のスプライト（lsp系）をロードします。<br />ファイル名にはlspで使えるのと同じタグが使えます。<br />画面外にロードしますので、移動しないと見えません。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号0に":a/2,0,3;test.bmp"をロードする。</div><pre class="ExSource">NSSpLoad(0,":a/2,0,3;test.bmp")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpMove" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーむーぶ</span><br />NSSpMove</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>NSSpMove(num,lx,ly,alpha)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">移動先X座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">移動先Y座標</span><br /><span class="ArgType">整数</span><span class="ArgMeaning">α値(0:透過、255:不透過)</span><br /></div><div class="ContentBody"><p class="Description">スプライトを移動します。<br />mspと同じく、この命令だけでは画面に反映されません。<br />適切なタイミングでNSUpdate()を呼んでください。<br />（ほかのスプライトも全部描画してからまとめて呼んだほうが効率がいいです）</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号3を100,100に移動し、不透過値を255にする。</div><pre class="ExSource">NSSpMove(3,100,100,255)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSpVisible" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすえすぴーびじぶる</span><br />NSSpVisible</h2><h4><a class="WordCategory" href="#category_sprite">スプライト</a></h4><h3>NSSpVisible(num,isvisible)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">整数</span><span class="ArgMeaning">スプライト番号</span><br /><span class="ArgType">真偽値</span><span class="ArgMeaning">表示フラグ(true:表示、false:非表示)</span><br /></div><div class="ContentBody"><p class="Description">スプライトを表示したり消したりします。trueで表示、falseで非表示です。<br />この命令だけでは画面に反映されませんのでNSUpdate()を呼んでください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">スプライト番号1を表示する。</div><pre class="ExSource">NSSpVisible(1,true)</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSSystemCall" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすしすてむこーる</span><br />NSSystemCall</h2><h4><a class="WordCategory" href="#category_execute">NScripter実行</a></h4><h3>NSSystemCall(callstr)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">機能名</span><br /></div><div class="ContentBody"><p class="Description">指定したNScripterの機能を呼び出します。<br />NScripter命令で言うmenu_???命令やsystemcall命令等をまとめたものです。<br />メッセージを送るだけなので、即時実行されないこともあります。<br />（その場合、NScripterが次にメッセージを処理したときに実行されます）<br />次の文字列が指定できます。<br />★close   　「閉じる」ボタンを押したのと同じ動作をします。<br />★end     　NScripterを終了します。何も聞いてこないので注意してください。end命令と同じです。<br />★reset   　NScripterをリセットします。何も聞いてこないので注意してください。reset命令と同じです。<br />★full    　フルスクリーン化します。<br />★window  　ウィンドウ化します。<br />★automode　オートモード状態にします。<br />★skip    　スキップ状態にします。<br />★skipoff 　スキップ状態を解除します。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">NScripterの「閉じる」ボタン機能を呼び出す。</div><pre class="ExSource">NSSystemCall("close")</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSTimer" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすたいまー</span><br />NSTimer</h2><h4><a class="WordCategory" href="#category_systeminfo">システム情報</a></h4><h3>count=NSTimer()</h3><div class="Returns">
            ●戻り値<br /><span class="RetType">整数</span><span class="RetMeaning">Windowsが起動してからの経過時間(ミリ秒)</span><br /></div><div class="ContentBody"><p class="Description">1msに1増え続けるタイマーを取得します。resettimer gettimerと同じ精度です。<br />Windowsが起動してから経過したミリ秒を指すカウンタは、ひたすら増えていくだけです。<br />この関数からは値を取得することしか出来ません。二回呼び出して、その差をとることで、<br />経過時間が正確にわかります。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">1msに1増え続けるタイマーを取得する。</div><pre class="ExSource">count=NSTimer()</pre></div><hr /><a href="#NSCALL_animation">NSCALL_animation</a> / <a href="#NSLuaAnimationInterval">NSLuaAnimationInterval</a> / <a href="#NSLuaAnimationMode">NSLuaAnimationMode</a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSUpdate" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすあっぷでーと</span><br />NSUpdate</h2><h4><a class="WordCategory" href="#category_draw">画面描画</a></h4><h3>NSUpdate()</h3><div class="ContentBody"><p class="Description">無効領域を再描画します。print 1と等価です。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">無効領域を再描画する。</div><pre class="ExSource">NSUpdate()</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div><a id="NSYesNoBox" /><h2><span class="WordVersion">Ver.2.94</span><span class="WordField">【低水準】</span><br /><span class="WordPhonetic">えぬえすいえすのーぼっくす</span><br />NSYesNoBox</h2><h4><a class="WordCategory" href="#category_dialog">ダイアログ</a></h4><h3>result=NSYesNoBox(text,title)</h3><div class="Arguments">
            ●引数<br /><span class="ArgType">文字列</span><span class="ArgMeaning">本文</span><br /><span class="ArgType">文字列</span><span class="ArgMeaning">タイトル文字列</span><br /></div><div class="Returns">
            ●戻り値<br /><span class="RetType">真偽値</span><span class="RetMeaning">はいを押せばtrue、いいえならfalse</span><br /></div><div class="ContentBody"><p class="Description">はい／いいえをたずねるダイアログボックスを表示します。戻り値はbooleanです。<br />NScripterでいうyesnobox命令ですが、本文とタイトルが逆になっていますのでご注意ください。</p><div class="Example"><span class="ExHeading">例)</span><br /><div class="ExComment">はい／いいえをたずねるダイアログボックスを表示する。</div><pre class="ExSource">result=NSYesNoBox("質問です","タイトルです") -- はいを押せばresult=true、いいえならresult=false</pre></div><hr /><a href="#"></a> / <hr /><a href="#top">page top</a> / <a href="#LIST">list</a> / <a href="#MAIN">main</a><br /></div></div><div id="FOOTER"></div></body>
<!-- Mirrored from senzogawa.s90.xrea.com/reference/NScrLuaAPI.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 22 Sep 2022 10:37:08 GMT -->
</html>